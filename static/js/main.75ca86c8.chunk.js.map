{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","React","memo","todos","selectedUserId","setSelectedUserId","useState","visibleTodos","setVisibleTodos","filterByTitle","setFilterByTitle","filterByComplited","setFilterByComplited","useEffect","filter","todo","filtredTodos","title","toLowerCase","includes","completed","className","type","value","onChange","event","target","onClick","sort","Math","random","map","classNames","checked","readOnly","userId","id","BASE_URL","getTodos","a","fetch","response","json","getUser","CurrentUser","currentUser","setCurrentUser","loadUser","useCallback","Error","name","email","phone","App","setTodos","currentTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75ca86c8.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React, { useState, useEffect } from 'react';\nimport { Todo } from '../../types/Todo';\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[],\n  selectedUserId: number,\n  setSelectedUserId: (userId: number) => void,\n};\n\nexport const TodoList: React.FC<Props> = React.memo(({\n  todos,\n  selectedUserId,\n  setSelectedUserId,\n}) => {\n  const [visibleTodos, setVisibleTodos] = useState(todos);\n  const [filterByTitle, setFilterByTitle] = useState('');\n  const [filterByComplited, setFilterByComplited] = useState('all');\n\n  useEffect(() => {\n    setVisibleTodos(todos.filter(todo => {\n      const filtredTodos = todo.title.toLowerCase().includes(filterByTitle);\n\n      switch (filterByComplited) {\n        case 'all':\n          return filtredTodos;\n\n        case 'active':\n          return filtredTodos && !todo.completed;\n\n        case 'completed':\n          return filtredTodos && todo.completed;\n\n        default:\n          return 0;\n      }\n    }));\n  }, [filterByTitle, todos, filterByComplited]);\n\n  const titleFilter = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setFilterByTitle(event.target.value.toLowerCase());\n  };\n\n  const completedFilter = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setFilterByComplited(event.target.value);\n  };\n\n  const randomize = () => {\n    setVisibleTodos([...visibleTodos].sort(() => Math.random() - 0.5));\n  };\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__control\">\n        <label>\n          Filter by title:\n          <input\n            className=\"TodoList__input\"\n            type=\"text\"\n            data-cy=\"filterByTitle\"\n            value={filterByTitle}\n            onChange={titleFilter}\n          />\n        </label>\n        <label>\n          Filter by status:\n          <select\n            className=\"TodoList__input\"\n            value={filterByComplited}\n            onChange={completedFilter}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"active\">Active</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n        </label>\n\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={randomize}\n        >\n          Randomize\n        </button>\n      </div>\n\n      <ul className=\"TodoList__list\" data-cy=\"listOfTodos\">\n        {visibleTodos.map(todo => (\n          <li\n            key={todo.id}\n            className={classNames(\n              'TodoList__item',\n              { 'TodoList__item--checked': todo.completed },\n              { 'TodoList__item--unchecked': !todo.completed },\n            )}\n          >\n            <label>\n              <input type=\"checkbox\" checked={todo.completed} readOnly />\n              <p>{todo.title}</p>\n            </label>\n\n            <button\n              className={classNames('TodoList__user-button', 'button',\n                {\n                  'TodoList__user-button--selected':\n                  selectedUserId === todo.userId,\n                })}\n              type=\"button\"\n              data-cy=\"userButton\"\n              onClick={() => setSelectedUserId(todo.userId)}\n            >\n              {`User #${todo.userId}`}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n});\n","import { User } from './types/User';\nimport { Todo } from './types/Todo';\n\nconst BASE_URL = 'https://mate.academy/students-api/';\n\nexport const getTodos = async (): Promise<Todo[]> => {\n  const response = await fetch(`${BASE_URL}/todos`);\n\n  return response.json();\n};\n\nexport const getUser = async (id: number): Promise<User> => {\n  const response = await fetch(`${BASE_URL}/users/${id}`);\n\n  return response.json();\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { getUser } from '../../api';\nimport { User } from '../../types/User';\nimport './CurrentUser.scss';\n\ninterface Props {\n  selectedUserId: number,\n  setSelectedUserId: (id: number) => void,\n}\n\nexport const CurrentUser: React.FC<Props> = React.memo(({\n  selectedUserId,\n  setSelectedUserId,\n}) => {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const loadUser = useCallback(async () => {\n    try {\n      setCurrentUser(await getUser(selectedUserId));\n    } catch (error) {\n      throw new Error(`${error}`);\n    }\n  }, [selectedUserId]);\n\n  useEffect(() => {\n    loadUser();\n  }, [selectedUserId]);\n\n  return (\n    <>\n      {currentUser && (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>{`Selected user: ${selectedUserId}`}</span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\" data-cy=\"userName\">\n            {currentUser.name}\n          </h3>\n\n          <p className=\"CurrentUser__email\">\n            {currentUser.email}\n          </p>\n\n          <p className=\"CurrentUser__phone\">\n            {currentUser.phone}\n          </p>\n\n          <button\n            type=\"button\"\n            onClick={() => setSelectedUserId(0)}\n            className=\"CurrentUser__clear button\"\n          >\n            Clear\n          </button>\n        </div>\n      )}\n    </>\n  );\n});\n","import React, { useEffect, useState, useCallback } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\nimport { Todo } from './types/Todo';\n\nconst App: React.FC = () => {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [selectedUserId, setSelectedUserId] = useState(0);\n\n  const currentTodos = useCallback(async () => {\n    setTodos(await getTodos());\n  }, []);\n\n  useEffect(() => {\n    currentTodos();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          selectedUserId={selectedUserId}\n          setSelectedUserId={setSelectedUserId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              selectedUserId={selectedUserId}\n              setSelectedUserId={setSelectedUserId}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}